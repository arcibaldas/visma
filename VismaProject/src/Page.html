<link rel="stylesheet" href="Page.css">

<body onload="json()"></body>
<div>
    <p class="leftside" id="imgSmall"></p>
</div>

<div class="split rightside">
    <div class="centered">
        <p id="imgLarge"></p>
    </div>
</div>

<script type="text/javascript">

    /* function to print the images  */
    function myFunction(obj) {


        var listImages = document.getElementsByClassName("newImage");


        for (var i = 0; i < obj.length; i++) {
            (function (i) {

                document.getElementById("imgSmall").innerHTML += `<br></br><img id="${i}"  class="newImage" src=${obj[i].download_url}  >`;


                let toenlarge = obj[i];
                listImages[i].onload = function () {
                    listImages[i].addEventListener('click', function () {
                        enlargeImage(toenlarge);
                    }, true);
                }
            }(i));


        }
    }

    function enlargeImage(k) {

        document.getElementById("imgLarge").innerHTML = `<br> AUTHOR: ${k.author}, WIDTH: ${k.width}, HEIGHT: ${k.height}</br><img class="enlargedImage" src=${k.download_url} >`;

    }


    /* Function to read json from the link */
</script>
<script type="text/javascript">
    function json() {
        fetch('https://picsum.photos/v2/list')
            .then(function (response) {
                return response.json();
            })
            .then(function (myJson) {
                myFunction(myJson)
            });
    }
</script>